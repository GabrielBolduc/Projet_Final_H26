<div class="admin-page">
  <header class="admin-top-bar">
    <button mat-stroked-button class="btn-new">
      <mat-icon>add</mat-icon> Nouveau Festival
    </button>
    <h1 class="header-title">Administration</h1>
    <span class="greeting">Bonjour Gabriel</span>
  </header>

  <main>
    <section class="admin-section">
      <h2 class="section-label">En cours</h2>
      @if (currentFestival(); as f) {
        <mat-card class="fest-card" appearance="outlined">
          <mat-card-content class="card-content-layout">
            <div class="main-info">
              <h3>{{ f.name }}</h3>
              <div class="meta-info">
                <mat-icon>event</mat-icon>
                <span>{{ f.start_at | date:'longDate' }}</span>
              </div>
              <p><strong>Lieu :</strong> {{ f.address }}</p>
              <button mat-flat-button class="btn-dash">Tableau de bord</button>
            </div>
          </mat-card-content>
        </mat-card>
      }
    </section>

    <section class="admin-section">
      <h2 class="section-label">Archives</h2>
      <div class="archive-list">
        @for (f of archives(); track f.id) {
          <mat-card class="fest-card">
            <mat-card-content class="card-content-layout">
              <div class="main-info">
                <h3>{{ f.name }}</h3>
                <div class="meta-info">
                  <mat-icon>history</mat-icon>
                  <span>{{ f.start_at | date:'MMMM yyyy' }}</span>
                </div>
                <a href="#" class="mat-button">Voir les commentaires</a>
              </div>
              
              <div class="side-info">
                <p><strong>Revenu :</strong> {{ f.other_income | currency:'CAD' }}</p>
                <div class="stars">
                  @for (s of [1,2,3,4,5]; track s) {
                    <mat-icon>{{ s <= (f.satisfaction || 0) ? 'star' : 'star_border' }}</mat-icon>
                  }
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </section>
  </main>
</div>